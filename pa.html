<!-- Add this inside the 'video-task' div for each video -->
<button class="claim-btn" style="display: none;" onclick="claimReward(this)">Claim Reward</button>

<style>
    /* Style for the Claim Button */
    .claim-btn {
        background-color: #e63946;
        color: white;
        font-size: 18px;
        font-weight: bold;
        border: none;
        padding: 12px 25px;
        border-radius: 10px;
        cursor: pointer;
        margin-top: 15px;
        transition: transform 0.3s ease, background-color 0.3s ease;
        display: none; /* Hidden by default */
    }

    .claim-btn:hover {
        background-color: #f1faee;
        color: #e63946;
        transform: scale(1.1);
    }
</style>

<script>
    // Function to show the claim button after 2 minutes of watching
    const claimReward = (button) => {
        balance += 150; // Add 150 to the balance when the user clicks
        updateBalance();
        saveBalance();
        button.disabled = true;
        button.textContent = "Claimed"; // Change button text to "Claimed"
        alert("🎁 Congratulations! You have claimed your reward!");
    };

    // Update the video iframe logic to show the claim button after 2 minutes
    function onYouTubeIframeAPIReady() {
        const videoTasks = document.querySelectorAll('.video-task');

        videoTasks.forEach(task => {
            const iframe = task.querySelector('iframe');
            const claimBtn = task.querySelector('.claim-btn');
            const videoId = task.getAttribute('data-video-id');

            let watchTime = 0;
            let interval;
            const player = new YT.Player(iframe.id, {
                videoId: videoId,
                events: {
                    'onStateChange': function (event) {
                        if (event.data === YT.PlayerState.PLAYING) {
                            if (currentPlayer && currentPlayer !== player) {
                                currentPlayer.pauseVideo();
                            }
                            currentPlayer = player;

                            // Track the watch time
                            interval = setInterval(() => {
                                watchTime++;
                                if (watchTime >= 120) { // Show button after 2 minutes
                                    claimBtn.style.display = 'inline-block'; // Show claim button
                                    clearInterval(interval);
                                }
                            }, 1000);
                        } else if (event.data === YT.PlayerState.ENDED) {
                            clearInterval(interval);
                        }
                    }
                }
            });
        });
    }
</script>